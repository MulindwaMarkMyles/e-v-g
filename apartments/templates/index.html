{% extends 'base.html' %}
{% load static %}

{% block content %}
    <style>
        .main-banner .item-1 {
        background-image: url("{% static 'images/fresh-ones/image-10.jpg' %}");
        }

        .main-banner .item-2 {
        background-image: url("{% static 'images/fresh-ones/image-2.jpg' %}");
        }

        .main-banner .item-3 {
        background-image: url("{% static 'images/fresh-ones/image-15.jpg' %}");
        }
        
        .main-banner .item-4 {
        background-image: url("{% static 'images/fresh-ones/image-12.jpg' %}");
        }
        .video {
            background-image: url("{% static 'images/banner-2.jpg' %}");
        }
        .contact {
            background-image: url("{% static 'images/banner-3.jpg' %}");
        }

    </style>

    <div class="messages-index" id="message-index">
        {% if messages %}
        <ul>
            {% for message in messages %}
                <li class="message">{{ message }}</li>
            {% endfor %}
        </ul>
        {% endif %}
    </div>

    <div class="main-banner">
        <div class="">
            <div class="item item-banner item-1">
                <div class="header-text">
                    <span class="category">Makerere, <em>Bukesa</em></span>
                    <h2>Hurry!<br>Get this offer while it lasts</h2>
                </div>
            </div>
            <div class="item item-banner item-2">
                <div class="header-text">
                    <span class="category">Makerere, <em>Bukesa</em></span>
                    <h2>Be Quick!<br>Get the best rental in town</h2>
                </div>
            </div>
            <div class="item item-banner item-3">
                <div class="header-text">
                    <span class="category">Makerere, <em>Bukesa</em></span>
                    <h2>Act Now!<br>Get the highest level house</h2>
                </div>
            </div>
            <div class="item item-banner item-4">
                <div class="header-text">
                    <span class="category">Makerere, <em>Bukesa</em></span>
                    <h2>Hurry!<br>We await you</h2>
                </div>
            </div>
        </div>
        <div onclick="side_slide(-1)" class="slide left">
            <span class="fas fa-angle-left"></span>
        </div>
        <div onclick="side_slide(1)" class="slide right">
            <span class="fas fa-angle-right"></span>
        </div>
        <div class="btn-sliders">
            <span class="btn-slider" count="0"></span>
            <span class="btn-slider" count="1"></span>
            <span class="btn-slider" count="2"></span>
            <span class="btn-slider" count="3"></span>
        </div>
    </div>

    <div class="featured section">
        <div class="container">
            <div class="row">
                <div class="col-lg-4">
                    <div class="left-image">
                        <img src="{% static 'images/fresh-ones/image-5.jpg' %}" alt="">
                        <a href="#" style="pointer-events: none;"><img src="{% static 'assets/images/featured-icon.png' %}" alt=""
                                style="max-width: 60px; padding: 0px;"></a>
                    </div>
                </div>
                <div class="col-lg-5">
                    <div class="section-heading">
                        <h6>| Featured</h6>
                        <h2>Best Apartment &amp; Nice view</h2>
                    </div>
                    <div class="accordion" id="accordionExample">
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingOne">
                                <button class="accordion-button" type="button" data-bs-toggle="collapse"
                                    data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                                    Why Us?
                                </button>
                            </h2>
                            <div id="collapseOne" class="accordion-collapse collapse show" aria-labelledby="headingOne"
                                data-bs-parent="#accordionExample">
                                <div class="accordion-body">
                                     <strong>SK-GRACE</strong> offers the best apartments in Town with world class treatment and  services.
                                </div>
                            </div>
                        </div>
                        <div class="accordion-item">
                            <h2 class="accordion-header" id="headingThree">
                                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                    data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                                    Why is this the best?
                                </button>
                            </h2>
                            <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree"
                                data-bs-parent="#accordionExample">
                                <div class="accordion-body">
                                    On top of the <strong>world class treatment</strong>, we offer the best prices in town.
                                    And so much more come see for yourself.
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-3">
                    <div class="info-table">
                        <ul>
                            <li>
                                <img src="{% static 'assets/images/info-icon-01.png' %}" alt="" style="max-width: 52px;">
                                <h4>100 m2<br><span>Total Flat Space</span></h4>
                            </li>
                            <li>
                                <img src="{% static 'assets/images/info-icon-02.png' %}" alt="" style="max-width: 52px;">
                                <h4>Contract<br><span>Contract Ready</span></h4>
                            </li>
                            <li>
                                <img src="{% static 'assets/images/info-icon-03.png' %}" alt="" style="max-width: 52px;">
                                <h4>On Site<br><span>Payment</span></h4>
                            </li>
                            <li>
                                <img src="{% static 'assets/images/info-icon-04.png' %}" alt="" style="max-width: 52px;">
                                <h4>Safety<br><span>24/7 Control</span></h4>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="video section">
    <div class="overlay">
        <div class="container">
            <div class="row">
                <div class="col-lg-4 offset-lg-4">
                    <div class="section-heading text-center">
                        <h6>| Video View</h6>
                        <h2>Get Closer View & Different Feeling</h2>
                    </div>
                </div>
            </div>
        </div>
    </div>
    </div>

    <div class="video-content">
        <div class="container">
            <div class="row">
                <div class="col-lg-10 offset-lg-1">
                    <div class="video-frame">
                        <img src="{% static 'images/fresh-ones/image-video.jpg' %}" alt="">
                        <a href="https://youtube.com" target="_blank"><i class="fa fa-play"></i></a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="section best-deal">
        <div class="container">
            <div class="row">
                <div class="col-lg-4">
                    <div class="section-heading">
                        <h6>| Best Deal</h6>
                        <h2>Find Your Best Deal Right Now!</h2>
                    </div>
                </div>
                <div class="col-lg-12">
                    <div class="tabs-content">
                        <div class="row">
                            
                            <div class="tab-content" id="myTabContent">
                                <div class="tab-pane fade show active" id="appartment" role="tabpanel"
                                    aria-labelledby="appartment-tab">
                                    <div class="row">
                                        <div class="col-lg-3">
                                            <div class="info-table">
                                                <ul>
                                                    <li>Floor number <span>{{ house.floor }}</span></li>
                                                    <li>Number of bedrooms <span>{{ house.bedrooms }}</span></li>
                                                    <li>Parking Available <span>Yes</span></li>
                                                    <li>Taken<span>{{ taken }}</span></li>
                                                    {% if not house.taken %}
                                                        <li>Booked<span>{{ booked }}</span></li>
                                                    {% endif %}
                                                </ul>
                                            </div>
                                        </div>
                                        <div class="col-lg-6">
                                            <img src="{{ image.image.url }}" alt="">
                                        </div>
                                        <div class="col-lg-3">
                                            <h4>Extra Info About Property</h4>
                                            <p>Sunlight streamed through the expansive windows, casting a warm glow on the polished hardwood floors of the apartment.
                                            The contrasted beautifully with the crisp white walls in the living
                                            room..<br><br> The modern kitchen boasted stainless steel appliances and countertops that gleamed like
                                            moonlight. The apartment wasn't just a place to live, it was a curated sanctuary, a
                                            reflection of its resident's impeccable taste and love for comfort.

                                            </p>
                                            <div class="icon-button">
                                                <a href="{% url 'schedule-meeting' %}"><i class="fa fa-calendar"></i> Schedule
                                                    a visit</a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="houses section">
        <div class="container">
            <div class="row">
                <div class="col-lg-4 offset-lg-4">
                    <div class="section-heading text-center">
                        <h6>| houses</h6>
                        <h2>We Provide The Best Apartments</h2>
                    </div>
                </div>
            </div>
            <div class="row">
                {% for house, image in houses %}
                <div class="col-lg-4 col-md-6">
                    <div class="item">
                        <a href="{% url 'details' house.id %}"><img src="{{ image.image.url }}" alt=""></a>
                        <span class="category">{{ house.type }}</span>
                        <h6>UGX {{ house.price }}</h6>
                        <h4><a href="#"></a></h4>
                        <ul>
                            <li><i class="fas  fa-house"></i> Bedrooms: <span>{{ house.bedrooms }}</span></li>
                            {% if house.taken %}
                            <li><i class="fa fa-check-double"></i> Taken: <span>Yes</span></li>
                            {% else %}
                            <li><i class="fa fa-check-double"></i> Taken: <span>No</span></li>
                                {% if house.booked %}
                                <li><i class="fa fa-check"> </i>Booked: <span>Yes</span></li>
                                {% else %}
                                <li><i class="fa fa-check"> </i>Booked: <span>No</span></li>
                                {% endif %}
                            {% endif %}
                            <li><i class="fa fa-list-ol"></i> Floor: <span>{{ house.floor }}</span></li>
                        </ul>
                        <div class="main-button">
                            <a href="{% url 'schedule-meeting' %}">Schedule a visit</a>
                            <a href="{% url 'details' house.id %}">View</a>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>
    </div>

    <div class="contact section">
        <div class="overlay">
        <div class="container">
            <div class="row">
                <div class="col-lg-4 offset-lg-4">
                    <div class="section-heading text-center">
                        <h6>| Contact Us</h6>
                        <h2>Get In Touch With Us</h2>
                    </div>
                </div>
            </div>
        </div>
        </div>
    </div>

    <div class="contact-content">
        <div class="container">
            <div class="row">
                <div class="col-lg-7">
                    <div id="map">
                        <iframe
                            src="https://www.google.com/maps/embed?pb=!1m17!1m12!1m3!1d28219.207493399703!2d32.54361583476561!3d0.32176820000000744!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m2!1m1!2zMMKwMTknMTguNCJOIDMywrAzMyc1MS4yIkU!5e1!3m2!1sen!2sug!4v1716373883348!5m2!1sen!2sug"
                            width="100%" height="500px" frameborder="0"
                            style="border:0; border-radius: 10px; box-shadow: 0px 0px 15px rgba(0, 0, 0, 0.15);"
                            allowfullscreen=""></iframe>
                    </div>
                    <div class="row">
                        <div class="col-lg-6">
                            <div class="item phone">
                                <img src="{% static 'assets/images/phone-icon.png' %}" alt="" style="max-width: 52px;">
                                <h6>+256-759-534787<br><span>Phone Number</span></h6>
                            </div>
                        </div>
                        <div class="col-lg-6">
                            <div class="item email">
                                <img src="{% static 'assets/images/email-icon.png' %}" alt="" style="max-width: 52px;">
                                <h6 style="text-wrap: wrap;word-wrap: break-word;">SK-GRACE.info@gmail.com<br><span>Business Email</span></h6>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-5" id="visit">
                    <form id="contact-form" action="" method="POST">
                        {% csrf_token %}
                        <div class="row">
                            <div class="col-lg-12">
                                <fieldset>
                                    <label for="name">Full Name</label>
                                    <input type="name" name="name" id="name" placeholder="Your Name..."
                                        autocomplete="on" required>
                                </fieldset>
                            </div>
                            <div class="col-lg-12">
                                <fieldset>
                                    <label for="email">Email Address</label>
                                    <input type="text" name="email" id="email" pattern="[^ @]*@[^ @]*"
                                        placeholder="Your E-mail..." required>
                                </fieldset>
                            </div>
                            <div class="col-lg-12">
                                <fieldset>
                                    <label for="subject">Subject</label>
                                    <input type="subject" name="subject" id="subject" placeholder="Subject..."
                                        autocomplete="on" required>
                                </fieldset>
                            </div>
                            <div class="col-lg-12">
                                <fieldset>
                                    <label for="message">Message</label>
                                    <textarea name="message" id="message" placeholder="Your Message" required></textarea>
                                </fieldset>
                            </div>
                            <div class="col-lg-12">
                                <fieldset>
                                    <button type="submit" id="form-submit" class="orange-button">Send Message</button>
                                </fieldset>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>


    <!-- Scripts -->
    <!-- Bootstrap core JavaScript -->
    <script src="{% static 'vendor/jquery/jquery.min.js' %}"></script>
    <script src="{% static 'vendor/bootstrap/js/bootstrap.min.js' %}"></script>
    <script src="{% static 'assets/js/isotope.min.js' %}"></script>
    <script src="{% static 'assets/js/owl-carousel.js' %}"></script>
    <script src="{% static 'assets/js/counter.js' %}"></script>
    <script src="{% static 'assets/js/custom.js' %}"></script>
    <script>
        var index = 1;
        showImg(index);
        var btns = document.getElementsByClassName('btn-slider')
        var j;
        for (j = 0; j < btns.length; j++) {
            btns[j].addEventListener("click", (e) => {
                var btn_index = e.target.attributes.count.value;
                btn_slide(Number(btn_index) + 1);
            })
        }
        function btn_slide(e) { showImg(index = e); }
        function side_slide(e) { showImg(index += e); }

        function showImg(e) {
            var i;
            const img = document.getElementsByClassName("item-banner");
            const sliders = document.querySelectorAll(".btn-sliders span");
            if (e > img.length) { index = 1 }
            if (e < 1) { index = img.length }
            for (i = 0; i < img.length; i++) {
                img[i].style.display = "none";
            }
            for (i = 0; i < sliders.length; i++) {
                sliders[i].style.background = "rgba(255,255,255,0.3)";
            }
            img[index - 1].style.display = "block";
            sliders[index - 1].style.background = "white";
        }
    </script>
    <script>
        const messages = document.getElementById("message-index")
        
        if (messages.innerHTML != "") {
            setTimeout(() => {
                messages.style.display = "none";
            }, 7000);
        }
        
        if (messages.innerHTML === '\n        \n    ') {
            messages.style.display = "none";
        }
    </script>

{% endblock %}